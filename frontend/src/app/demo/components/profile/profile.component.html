<div class="profile-card">
  <!-- Avatar -->
  <div class="avatar-wrapper">
    <img [src]="previewUrl || profileImage" alt="Avatar" class="avatar" />
    <label for="avatar-upload" class="avatar-upload-btn">
      <i class="pi pi-camera"></i>
    </label>
    <input id="avatar-upload" type="file" accept="image/*" (change)="onFileSelected($event)" hidden />
  </div>

  <!-- Nom -->
  <h2 class="username">{{ user.nom }}</h2>

  <!-- Formulaire -->
  <form (ngSubmit)="updateProfile()" class="profile-form">
    <div class="form-group">
      <label for="nom">Nom</label>
      <input id="nom" type="text" [(ngModel)]="user.nom" name="nom" required />
    </div>

    <div class="form-group">
      <label for="email">Email</label>
      <input id="email" type="email" [(ngModel)]="user.email" name="email" required />
    </div>

    <div class="form-group">
      <label for="password">Nouveau mot de passe</label>
      <input id="password" type="password" [(ngModel)]="user.password" name="password" />
    </div>

    <div class="form-group">
      <label for="confirmPassword">Confirmer le mot de passe</label>
      <input id="confirmPassword" type="password" [(ngModel)]="confirmPassword" name="confirmPassword" />
    </div>

    <div class="actions">
      <button pButton type="submit" [label]="loading ? 'Enregistrementâ€¦' : 'Enregistrer'"
              icon="pi pi-check" class="p-button-success" [disabled]="loading"></button>
      <button pButton type="button" label="Annuler" icon="pi pi-times"
              class="p-button-secondary" (click)="cancelEdit()" [disabled]="loading"></button>
    </div>
  </form>
</div>
